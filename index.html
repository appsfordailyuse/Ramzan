<!DOCTYPE html>
<html lang="ur" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramzan Calendar 2026 - Pakistan</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Tajawal:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --gold: #C9A84C;
    --deep: #0a0f1e;
    --mid: #111827;
    --card: #141b2d;
    --border: #1e2d4a;
    --text: #e8dcc8;
    --muted: #8a9bc0;
    --sehri: #3d6b9e;
    --iftar: #c47a35;
    --today: #1a3a2a;
    --today-border: #2d7a50;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--deep);
    color: var(--text);
    font-family: 'Tajawal', sans-serif;
    min-height: 100vh;
    background-image: 
      radial-gradient(ellipse at 20% 0%, rgba(201,168,76,0.08) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 100%, rgba(61,107,158,0.1) 0%, transparent 50%);
  }

  header {
    text-align: center;
    padding: 50px 20px 30px;
    position: relative;
    overflow: hidden;
  }

  header::before {
    content: '';
    position: absolute;
    top: 0; left: 50%;
    transform: translateX(-50%);
    width: 600px; height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
  }

  .moon-icon {
    font-size: 60px;
    display: block;
    margin-bottom: 10px;
    animation: glow 3s ease-in-out infinite;
  }

  @keyframes glow {
    0%, 100% { text-shadow: 0 0 20px rgba(201,168,76,0.3); }
    50% { text-shadow: 0 0 40px rgba(201,168,76,0.7), 0 0 80px rgba(201,168,76,0.3); }
  }

  h1 {
    font-family: 'Amiri', serif;
    font-size: clamp(28px, 5vw, 52px);
    color: var(--gold);
    letter-spacing: 2px;
    line-height: 1.2;
  }

  .subtitle {
    font-size: 16px;
    color: var(--muted);
    margin-top: 8px;
    letter-spacing: 4px;
    text-transform: uppercase;
  }

  .arabic-text {
    font-family: 'Amiri', serif;
    font-size: 28px;
    color: var(--gold);
    opacity: 0.7;
    margin-top: 5px;
    direction: rtl;
  }

  .ashra-badges {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 30px 0 10px;
    flex-wrap: wrap;
    padding: 0 20px;
  }

  .ashra {
    padding: 8px 20px;
    border-radius: 30px;
    font-size: 13px;
    border: 1px solid;
    font-weight: 700;
    letter-spacing: 1px;
  }

  .ashra-1 { border-color: #4a9e6b; color: #4a9e6b; background: rgba(74,158,107,0.08); }
  .ashra-2 { border-color: var(--gold); color: var(--gold); background: rgba(201,168,76,0.08); }
  .ashra-3 { border-color: #e06b6b; color: #e06b6b; background: rgba(224,107,107,0.08); }

  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 10px 15px 60px;
  }

  .city-selector {
    text-align: center;
    margin: 10px 0 30px;
    font-size: 14px;
    color: var(--muted);
  }

  .city-selector strong {
    color: var(--gold);
    font-size: 16px;
  }

  .legend {
    display: flex;
    justify-content: center;
    gap: 25px;
    margin-bottom: 25px;
    flex-wrap: wrap;
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--muted);
  }

  .legend-dot {
    width: 12px; height: 12px;
    border-radius: 50%;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: var(--card);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px var(--border);
  }

  thead tr {
    background: linear-gradient(135deg, #1a2540, #0f1a30);
    border-bottom: 1px solid var(--gold);
  }

  th {
    padding: 16px 12px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--gold);
  }

  tbody tr {
    border-bottom: 1px solid var(--border);
    transition: background 0.2s;
    animation: fadeIn 0.4s ease both;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(5px); }
    to { opacity: 1; transform: translateY(0); }
  }

  tbody tr:nth-child(n) { animation-delay: calc(var(--i) * 15ms); }

  tbody tr:hover { background: rgba(201,168,76,0.05); }

  tbody tr.today-row {
    background: var(--today);
    border-left: 3px solid var(--today-border);
    border-right: 3px solid var(--today-border);
  }

  tbody tr.ashra-1-row { border-left: 3px solid rgba(74,158,107,0.5); }
  tbody tr.ashra-2-row { border-left: 3px solid rgba(201,168,76,0.5); }
  tbody tr.ashra-3-row { border-left: 3px solid rgba(224,107,107,0.5); }

  td {
    padding: 13px 12px;
    text-align: center;
    font-size: 14px;
  }

  .roza-num {
    font-family: 'Amiri', serif;
    font-size: 20px;
    color: var(--gold);
    font-weight: 700;
  }

  .date-cell { color: var(--text); font-weight: 600; }
  .day-cell { color: var(--muted); font-size: 13px; }

  .sehri-time {
    color: #7eb8e8;
    font-weight: 700;
    font-size: 15px;
  }

  .iftar-time {
    color: #e8a35a;
    font-weight: 700;
    font-size: 15px;
  }

  .duration-cell {
    color: var(--muted);
    font-size: 12px;
  }

  .today-badge {
    background: var(--today-border);
    color: white;
    font-size: 10px;
    padding: 2px 8px;
    border-radius: 10px;
    margin-left: 5px;
    font-weight: 700;
    letter-spacing: 1px;
  }

  .ashra-header {
    background: linear-gradient(135deg, #151f30, #0c1520);
    text-align: center;
    padding: 10px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 3px;
    text-transform: uppercase;
    border-bottom: 1px solid var(--border);
  }

  .ah-1 { color: #4a9e6b; border-left: 3px solid #4a9e6b; }
  .ah-2 { color: var(--gold); border-left: 3px solid var(--gold); }
  .ah-3 { color: #e06b6b; border-left: 3px solid #e06b6b; }

  /* === COUNTDOWN SECTION === */
  .countdown-section {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 30px 20px;
    margin-bottom: 30px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 10px 40px rgba(0,0,0,0.4);
  }

  .countdown-section::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
  }

  .countdown-title {
    text-align: center;
    font-size: 12px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 6px;
  }

  .countdown-label {
    text-align: center;
    font-family: 'Amiri', serif;
    font-size: 22px;
    margin-bottom: 20px;
    transition: color 0.5s;
  }

  .countdown-label.sehri-mode { color: #7eb8e8; }
  .countdown-label.iftar-mode { color: #e8a35a; }

  .countdown-boxes {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }

  .cbox {
    background: rgba(0,0,0,0.3);
    border-radius: 12px;
    padding: 16px 20px;
    min-width: 80px;
    text-align: center;
    border: 1px solid var(--border);
    transition: border-color 0.5s;
  }

  .cbox.sehri-box { border-color: rgba(126,184,232,0.3); }
  .cbox.iftar-box { border-color: rgba(232,163,90,0.3); }

  .cbox-num {
    font-family: 'Amiri', serif;
    font-size: 36px;
    font-weight: 700;
    line-height: 1;
    transition: color 0.5s;
  }

  .sehri-box .cbox-num { color: #7eb8e8; }
  .iftar-box .cbox-num { color: #e8a35a; }

  .cbox-label {
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-top: 4px;
  }

  .colon {
    font-size: 36px;
    color: var(--muted);
    display: flex;
    align-items: center;
    padding-bottom: 12px;
    opacity: 0.5;
  }

  .today-info {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
    border-top: 1px solid var(--border);
    padding-top: 18px;
    margin-top: 5px;
  }

  .today-info-item {
    text-align: center;
  }

  .today-info-item .ti-label {
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 4px;
  }

  .today-info-item .ti-time {
    font-size: 20px;
    font-weight: 700;
  }

  .ti-sehri { color: #7eb8e8; }
  .ti-iftar { color: #e8a35a; }
  .ti-roza { color: var(--gold); font-family: 'Amiri', serif; font-size: 22px; }

  .progress-bar-wrap {
    width: 100%;
    max-width: 500px;
    margin: 15px auto 0;
    height: 6px;
    background: rgba(255,255,255,0.05);
    border-radius: 10px;
    overflow: hidden;
  }

  .progress-bar-fill {
    height: 100%;
    border-radius: 10px;
    transition: width 1s linear, background 0.5s;
  }

  footer {
    padding-bottom: 60px;
    text-align: center;
    padding: 20px;
    color: var(--muted);
    font-size: 12px;
    letter-spacing: 2px;
  }

  @media (max-width: 600px) {
    th, td { padding: 10px 6px; font-size: 12px; }
    .roza-num { font-size: 16px; }
    .sehri-time, .iftar-time { font-size: 13px; }
  }

  /* STICKY FOOTER - Attractive Transparent */
  .sticky-credit {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    padding: 8px 20px;
    background: transparent;
    z-index: 9999;
    pointer-events: none;
  }

  .sticky-credit a {
    pointer-events: all;
    color: transparent;
    background: linear-gradient(90deg, #f0c060, #ffffff, #f0c060);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-decoration: none;
    font-family: 'Amiri', serif;
    font-size: 13px;
    letter-spacing: 2px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    animation: shimmer 3s linear infinite;
    filter: drop-shadow(0 0 8px rgba(201,168,76,0.6)) drop-shadow(0 2px 6px rgba(0,0,0,0.8));
    transition: filter 0.3s ease, gap 0.3s ease;
  }

  @keyframes shimmer {
    0% { background-position: 0% center; }
    100% { background-position: 200% center; }
  }

  .sticky-credit a:hover {
    filter: drop-shadow(0 0 20px rgba(255,200,80,0.95)) drop-shadow(0 2px 12px rgba(0,0,0,0.9));
    gap: 14px;
  }

  .fb-icon {
    background: linear-gradient(135deg, #1877f2, #42a5f5);
    color: #fff;
    width: 18px; height: 18px;
    border-radius: 5px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-family: 'Tajawal', sans-serif;
    font-weight: 900;
    transition: transform 0.3s ease;
    flex-shrink: 0;
    -webkit-text-fill-color: white;
    box-shadow: 0 2px 8px rgba(24,119,242,0.5);
  }

  .sticky-credit a:hover .fb-icon {
    transform: scale(1.3) rotate(-6deg);
  }

  /* WHATSAPP BANNER */
  .wa-banner {
    margin: 30px 0 20px;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4), 0 0 0 1px rgba(37,211,102,0.2);
  }

  .wa-link {
    display: flex;
    align-items: center;
    gap: 18px;
    padding: 22px 28px;
    background: linear-gradient(135deg, #0a2e1a, #0d3d1e, #0a2e1a);
    text-decoration: none;
    transition: all 0.3s ease;
    border: 1px solid rgba(37,211,102,0.25);
    border-radius: 18px;
    position: relative;
    overflow: hidden;
  }

  .wa-link::before {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(37,211,102,0.08), transparent);
    transition: left 0.5s ease;
  }

  .wa-link:hover::before { left: 100%; }
  .wa-link:hover { background: linear-gradient(135deg, #0d3d20, #125226, #0d3d20); transform: translateY(-2px); box-shadow: 0 12px 40px rgba(37,211,102,0.2); }

  .wa-icon-wrap {
    background: #25d366;
    width: 52px; height: 52px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 4px 15px rgba(37,211,102,0.4);
    transition: transform 0.3s ease, box-shadow 0.3s;
  }

  .wa-link:hover .wa-icon-wrap {
    transform: scale(1.1) rotate(8deg);
    box-shadow: 0 6px 25px rgba(37,211,102,0.6);
  }

  .wa-text {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .wa-title {
    font-family: 'Amiri', serif;
    font-size: 22px;
    color: #25d366;
    font-weight: 700;
    letter-spacing: 1px;
  }

  .wa-sub {
    font-size: 13px;
    color: rgba(255,255,255,0.5);
    letter-spacing: 1px;
  }

  .wa-arrow {
    font-size: 26px;
    color: #25d366;
    opacity: 0.7;
    transition: transform 0.3s ease, opacity 0.3s;
  }

  .wa-link:hover .wa-arrow {
    transform: translateX(6px);
    opacity: 1;
  }

  @media (max-width: 480px) {
    .wa-title { font-size: 17px; }
    .wa-link { padding: 16px 18px; gap: 13px; }
    .wa-icon-wrap { width: 42px; height: 42px; }
  }

  /* CITY DROPDOWN */
  .city-dropdown-wrap {
    text-align: center;
    margin: 10px 0 16px;
  }

  #city-select {
    background: rgba(0,0,0,0.4);
    color: var(--gold);
    border: 1px solid var(--gold);
    border-radius: 30px;
    padding: 8px 22px 8px 16px;
    font-family: 'Tajawal', sans-serif;
    font-size: 15px;
    font-weight: 700;
    letter-spacing: 1px;
    cursor: pointer;
    outline: none;
    appearance: none;
    -webkit-appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%23C9A84C' d='M1 1l5 5 5-5'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 14px center;
    padding-right: 36px;
    transition: all 0.3s ease;
    box-shadow: 0 0 12px rgba(201,168,76,0.15);
  }

  #city-select:hover, #city-select:focus {
    border-color: #f0c060;
    box-shadow: 0 0 20px rgba(201,168,76,0.35);
    color: #f0c060;
  }

  #city-select option {
    background: #111827;
    color: var(--text);
    font-size: 14px;
  }

</style>
</head>
<body>

<header>
  <span class="moon-icon">üåô</span>
  <h1>Ramzan ul Mubarak 1447</h1>
  <p class="subtitle">Pakistan ‚Äî 2026</p>
  <p class="arabic-text">ÿ±ŸÖÿ∂ÿßŸÜ ÿßŸÑŸÖÿ®ÿßÿ±⁄©</p>
</header>

<div class="container">

  <!-- LIVE COUNTDOWN -->
  <div class="countdown-section">
    <p class="countdown-title">Shehar Chunein ‚Äî Live Countdown</p>
    <div class="city-dropdown-wrap">
      <select id="city-select" onchange="onCityChange()">
        <option value="sargodha" selected>üìç Sargodha</option>
        <option value="islamabad">üìç Islamabad</option>
        <option value="lahore">üìç Lahore</option>
        <option value="bahawalpur">üìç Bahawalpur</option>
        <option value="karachi">üìç Karachi</option>
        <option value="quetta">üìç Quetta</option>
      </select>
    </div>
    <p class="countdown-label sehri-mode" id="cd-label">‚è≥ Sehri mein bacha waqt...</p>
    <div class="countdown-boxes">
      <div class="cbox" id="cd-box-h"><div class="cbox-num" id="cd-h">00</div><div class="cbox-label">Ghante</div></div>
      <div class="colon">:</div>
      <div class="cbox" id="cd-box-m"><div class="cbox-num" id="cd-m">00</div><div class="cbox-label">Minute</div></div>
      <div class="colon">:</div>
      <div class="cbox" id="cd-box-s"><div class="cbox-num" id="cd-s">00</div><div class="cbox-label">Second</div></div>
    </div>
    <div class="progress-bar-wrap">
      <div class="progress-bar-fill" id="cd-progress" style="width:0%"></div>
    </div>
    <div class="today-info">
      <div class="today-info-item">
        <div class="ti-label">Aaj ka Roza</div>
        <div class="ti-time ti-roza" id="ti-roza">‚Äî</div>
      </div>
      <div class="today-info-item">
        <div class="ti-label">üåÖ Sehri</div>
        <div class="ti-time ti-sehri" id="ti-sehri">‚Äî</div>
      </div>
      <div class="today-info-item">
        <div class="ti-label">üåá Iftar</div>
        <div class="ti-time ti-iftar" id="ti-iftar">‚Äî</div>
      </div>
    </div>
  </div>

  <div class="ashra-badges">
    <span class="ashra ashra-1">1st Ashra ‚Äî Rehmat (1‚Äì10)</span>
    <span class="ashra ashra-2">2nd Ashra ‚Äî Maghfirat (11‚Äì20)</span>
    <span class="ashra ashra-3">3rd Ashra ‚Äî Nijaat (21‚Äì30)</span>
  </div>

  <div class="city-selector">
    Sehri &amp; Iftar Timings ‚Äî <strong>Islamabad</strong>
  </div>

  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:#7eb8e8"></div> Sehri Time</div>
    <div class="legend-item"><div class="legend-dot" style="background:#e8a35a"></div> Iftar Time</div>
    <div class="legend-item"><div class="legend-dot" style="background:#2d7a50"></div> Aaj ka Roza</div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Roza</th>
        <th>Date</th>
        <th>Din</th>
        <th>Sehri</th>
        <th>Iftar</th>
        <th>Muddat</th>
      </tr>
    </thead>
    <tbody id="calendar-body">
    </tbody>
  </table>

  <footer>
    <p>üåô Ramzan Mubarak ‚Äî Pakistan 2026 / 1447 AH</p>
    <p style="margin-top:5px; font-size:11px;">Source: Islamabad Prayer Times</p>
  </footer>

  <!-- WHATSAPP CHANNEL BANNER -->
  <div class="wa-banner">
    <a href="https://whatsapp.com/channel/0029VbCNzQeISTkQR04DvX3r" target="_blank" rel="noopener" class="wa-link">
      <div class="wa-icon-wrap">
        <svg viewBox="0 0 24 24" fill="white" width="28" height="28"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
      </div>
      <div class="wa-text">
        <span class="wa-title">Join Our WhatsApp Channel</span>
        <span class="wa-sub">Updates, reminders & more üåô</span>
      </div>
      <div class="wa-arrow">‚Üí</div>
    </a>
  </div>

</div>

<script>
// ============================================================
// CITY DATA ‚Äî Sehri & Iftar timings for all 6 cities
// Offsets based on geographic longitude differences from Islamabad
// ============================================================
const cityData = {
  islamabad: {
    name: "Islamabad",
    data: [
      { roza:1,  date:"19 Feb", day:"Jumeraat", sehr:"5:25am", iftar:"5:56pm", duration:"12h 31m" },
      { roza:2,  date:"20 Feb", day:"Juma",     sehr:"5:24am", iftar:"5:56pm", duration:"12h 32m" },
      { roza:3,  date:"21 Feb", day:"Hafta",    sehr:"5:23am", iftar:"5:57pm", duration:"12h 34m" },
      { roza:4,  date:"22 Feb", day:"Itwar",    sehr:"5:22am", iftar:"5:58pm", duration:"12h 36m" },
      { roza:5,  date:"23 Feb", day:"Peer",     sehr:"5:21am", iftar:"5:59pm", duration:"12h 38m" },
      { roza:6,  date:"24 Feb", day:"Mangal",   sehr:"5:20am", iftar:"6:00pm", duration:"12h 40m" },
      { roza:7,  date:"25 Feb", day:"Budh",     sehr:"5:19am", iftar:"6:01pm", duration:"12h 42m" },
      { roza:8,  date:"26 Feb", day:"Jumeraat", sehr:"5:17am", iftar:"6:02pm", duration:"12h 45m" },
      { roza:9,  date:"27 Feb", day:"Juma",     sehr:"5:16am", iftar:"6:02pm", duration:"12h 46m" },
      { roza:10, date:"28 Feb", day:"Hafta",    sehr:"5:15am", iftar:"6:03pm", duration:"12h 48m" },
      { roza:11, date:"1 Mar",  day:"Itwar",    sehr:"5:14am", iftar:"6:04pm", duration:"12h 50m" },
      { roza:12, date:"2 Mar",  day:"Peer",     sehr:"5:13am", iftar:"6:05pm", duration:"12h 52m" },
      { roza:13, date:"3 Mar",  day:"Mangal",   sehr:"5:12am", iftar:"6:06pm", duration:"12h 54m" },
      { roza:14, date:"4 Mar",  day:"Budh",     sehr:"5:10am", iftar:"6:07pm", duration:"12h 57m" },
      { roza:15, date:"5 Mar",  day:"Jumeraat", sehr:"5:09am", iftar:"6:07pm", duration:"12h 58m" },
      { roza:16, date:"6 Mar",  day:"Juma",     sehr:"5:08am", iftar:"6:08pm", duration:"13h 0m"  },
      { roza:17, date:"7 Mar",  day:"Hafta",    sehr:"5:07am", iftar:"6:09pm", duration:"13h 2m"  },
      { roza:18, date:"8 Mar",  day:"Itwar",    sehr:"5:05am", iftar:"6:10pm", duration:"13h 5m"  },
      { roza:19, date:"9 Mar",  day:"Peer",     sehr:"5:04am", iftar:"6:11pm", duration:"13h 7m"  },
      { roza:20, date:"10 Mar", day:"Mangal",   sehr:"5:03am", iftar:"6:11pm", duration:"13h 8m"  },
      { roza:21, date:"11 Mar", day:"Budh",     sehr:"5:01am", iftar:"6:12pm", duration:"13h 11m" },
      { roza:22, date:"12 Mar", day:"Jumeraat", sehr:"5:00am", iftar:"6:13pm", duration:"13h 13m" },
      { roza:23, date:"13 Mar", day:"Juma",     sehr:"4:59am", iftar:"6:14pm", duration:"13h 15m" },
      { roza:24, date:"14 Mar", day:"Hafta",    sehr:"4:57am", iftar:"6:15pm", duration:"13h 18m" },
      { roza:25, date:"15 Mar", day:"Itwar",    sehr:"4:56am", iftar:"6:15pm", duration:"13h 19m" },
      { roza:26, date:"16 Mar", day:"Peer",     sehr:"4:55am", iftar:"6:16pm", duration:"13h 21m" },
      { roza:27, date:"17 Mar", day:"Mangal",   sehr:"4:53am", iftar:"6:17pm", duration:"13h 24m" },
      { roza:28, date:"18 Mar", day:"Budh",     sehr:"4:52am", iftar:"6:18pm", duration:"13h 26m" },
      { roza:29, date:"19 Mar", day:"Jumeraat", sehr:"4:50am", iftar:"6:18pm", duration:"13h 28m" },
      { roza:30, date:"20 Mar", day:"Juma",     sehr:"4:49am", iftar:"6:19pm", duration:"13h 30m" },
    ]
  },
  sargodha: {
    name: "Sargodha",
    data: [
      { roza:1,  date:"19 Feb", day:"Jumeraat", sehr:"5:22am", iftar:"5:54pm", duration:"12h 32m" },
      { roza:2,  date:"20 Feb", day:"Juma",     sehr:"5:21am", iftar:"5:55pm", duration:"12h 34m" },
      { roza:3,  date:"21 Feb", day:"Hafta",    sehr:"5:20am", iftar:"5:55pm", duration:"12h 35m" },
      { roza:4,  date:"22 Feb", day:"Itwar",    sehr:"5:19am", iftar:"5:56pm", duration:"12h 37m" },
      { roza:5,  date:"23 Feb", day:"Peer",     sehr:"5:18am", iftar:"5:57pm", duration:"12h 39m" },
      { roza:6,  date:"24 Feb", day:"Mangal",   sehr:"5:17am", iftar:"5:58pm", duration:"12h 41m" },
      { roza:7,  date:"25 Feb", day:"Budh",     sehr:"5:16am", iftar:"5:59pm", duration:"12h 43m" },
      { roza:8,  date:"26 Feb", day:"Jumeraat", sehr:"5:14am", iftar:"6:00pm", duration:"12h 46m" },
      { roza:9,  date:"27 Feb", day:"Juma",     sehr:"5:13am", iftar:"6:00pm", duration:"12h 47m" },
      { roza:10, date:"28 Feb", day:"Hafta",    sehr:"5:12am", iftar:"6:01pm", duration:"12h 49m" },
      { roza:11, date:"1 Mar",  day:"Itwar",    sehr:"5:11am", iftar:"6:02pm", duration:"12h 51m" },
      { roza:12, date:"2 Mar",  day:"Peer",     sehr:"5:10am", iftar:"6:03pm", duration:"12h 53m" },
      { roza:13, date:"3 Mar",  day:"Mangal",   sehr:"5:09am", iftar:"6:04pm", duration:"12h 55m" },
      { roza:14, date:"4 Mar",  day:"Budh",     sehr:"5:07am", iftar:"6:05pm", duration:"12h 58m" },
      { roza:15, date:"5 Mar",  day:"Jumeraat", sehr:"5:06am", iftar:"6:05pm", duration:"12h 59m" },
      { roza:16, date:"6 Mar",  day:"Juma",     sehr:"5:05am", iftar:"6:06pm", duration:"13h 1m"  },
      { roza:17, date:"7 Mar",  day:"Hafta",    sehr:"5:04am", iftar:"6:07pm", duration:"13h 3m"  },
      { roza:18, date:"8 Mar",  day:"Itwar",    sehr:"5:02am", iftar:"6:08pm", duration:"13h 6m"  },
      { roza:19, date:"9 Mar",  day:"Peer",     sehr:"5:01am", iftar:"6:09pm", duration:"13h 8m"  },
      { roza:20, date:"10 Mar", day:"Mangal",   sehr:"5:00am", iftar:"6:09pm", duration:"13h 9m"  },
      { roza:21, date:"11 Mar", day:"Budh",     sehr:"4:58am", iftar:"6:10pm", duration:"13h 12m" },
      { roza:22, date:"12 Mar", day:"Jumeraat", sehr:"4:57am", iftar:"6:11pm", duration:"13h 14m" },
      { roza:23, date:"13 Mar", day:"Juma",     sehr:"4:56am", iftar:"6:12pm", duration:"13h 16m" },
      { roza:24, date:"14 Mar", day:"Hafta",    sehr:"4:54am", iftar:"6:13pm", duration:"13h 19m" },
      { roza:25, date:"15 Mar", day:"Itwar",    sehr:"4:53am", iftar:"6:13pm", duration:"13h 20m" },
      { roza:26, date:"16 Mar", day:"Peer",     sehr:"4:52am", iftar:"6:14pm", duration:"13h 22m" },
      { roza:27, date:"17 Mar", day:"Mangal",   sehr:"4:50am", iftar:"6:15pm", duration:"13h 25m" },
      { roza:28, date:"18 Mar", day:"Budh",     sehr:"4:49am", iftar:"6:16pm", duration:"13h 27m" },
      { roza:29, date:"19 Mar", day:"Jumeraat", sehr:"4:47am", iftar:"6:16pm", duration:"13h 29m" },
      { roza:30, date:"20 Mar", day:"Juma",     sehr:"4:46am", iftar:"6:17pm", duration:"13h 31m" },
    ]
  },
  lahore: {
    name: "Lahore",
    data: [
      { roza:1,  date:"19 Feb", day:"Jumeraat", sehr:"5:20am", iftar:"5:53pm", duration:"12h 33m" },
      { roza:2,  date:"20 Feb", day:"Juma",     sehr:"5:19am", iftar:"5:53pm", duration:"12h 34m" },
      { roza:3,  date:"21 Feb", day:"Hafta",    sehr:"5:18am", iftar:"5:54pm", duration:"12h 36m" },
      { roza:4,  date:"22 Feb", day:"Itwar",    sehr:"5:17am", iftar:"5:55pm", duration:"12h 38m" },
      { roza:5,  date:"23 Feb", day:"Peer",     sehr:"5:16am", iftar:"5:56pm", duration:"12h 40m" },
      { roza:6,  date:"24 Feb", day:"Mangal",   sehr:"5:15am", iftar:"5:57pm", duration:"12h 42m" },
      { roza:7,  date:"25 Feb", day:"Budh",     sehr:"5:14am", iftar:"5:58pm", duration:"12h 44m" },
      { roza:8,  date:"26 Feb", day:"Jumeraat", sehr:"5:12am", iftar:"5:59pm", duration:"12h 47m" },
      { roza:9,  date:"27 Feb", day:"Juma",     sehr:"5:11am", iftar:"5:59pm", duration:"12h 48m" },
      { roza:10, date:"28 Feb", day:"Hafta",    sehr:"5:10am", iftar:"6:00pm", duration:"12h 50m" },
      { roza:11, date:"1 Mar",  day:"Itwar",    sehr:"5:09am", iftar:"6:01pm", duration:"12h 52m" },
      { roza:12, date:"2 Mar",  day:"Peer",     sehr:"5:08am", iftar:"6:02pm", duration:"12h 54m" },
      { roza:13, date:"3 Mar",  day:"Mangal",   sehr:"5:07am", iftar:"6:03pm", duration:"12h 56m" },
      { roza:14, date:"4 Mar",  day:"Budh",     sehr:"5:05am", iftar:"6:04pm", duration:"12h 59m" },
      { roza:15, date:"5 Mar",  day:"Jumeraat", sehr:"5:04am", iftar:"6:04pm", duration:"13h 0m"  },
      { roza:16, date:"6 Mar",  day:"Juma",     sehr:"5:03am", iftar:"6:05pm", duration:"13h 2m"  },
      { roza:17, date:"7 Mar",  day:"Hafta",    sehr:"5:02am", iftar:"6:06pm", duration:"13h 4m"  },
      { roza:18, date:"8 Mar",  day:"Itwar",    sehr:"5:00am", iftar:"6:07pm", duration:"13h 7m"  },
      { roza:19, date:"9 Mar",  day:"Peer",     sehr:"4:59am", iftar:"6:08pm", duration:"13h 9m"  },
      { roza:20, date:"10 Mar", day:"Mangal",   sehr:"4:58am", iftar:"6:08pm", duration:"13h 10m" },
      { roza:21, date:"11 Mar", day:"Budh",     sehr:"4:56am", iftar:"6:09pm", duration:"13h 13m" },
      { roza:22, date:"12 Mar", day:"Jumeraat", sehr:"4:55am", iftar:"6:10pm", duration:"13h 15m" },
      { roza:23, date:"13 Mar", day:"Juma",     sehr:"4:54am", iftar:"6:11pm", duration:"13h 17m" },
      { roza:24, date:"14 Mar", day:"Hafta",    sehr:"4:52am", iftar:"6:12pm", duration:"13h 20m" },
      { roza:25, date:"15 Mar", day:"Itwar",    sehr:"4:51am", iftar:"6:12pm", duration:"13h 21m" },
      { roza:26, date:"16 Mar", day:"Peer",     sehr:"4:50am", iftar:"6:13pm", duration:"13h 23m" },
      { roza:27, date:"17 Mar", day:"Mangal",   sehr:"4:48am", iftar:"6:14pm", duration:"13h 26m" },
      { roza:28, date:"18 Mar", day:"Budh",     sehr:"4:47am", iftar:"6:15pm", duration:"13h 28m" },
      { roza:29, date:"19 Mar", day:"Jumeraat", sehr:"4:45am", iftar:"6:15pm", duration:"13h 30m" },
      { roza:30, date:"20 Mar", day:"Juma",     sehr:"4:44am", iftar:"6:16pm", duration:"13h 32m" },
    ]
  },
  bahawalpur: {
    name: "Bahawalpur",
    data: [
      { roza:1,  date:"19 Feb", day:"Jumeraat", sehr:"5:18am", iftar:"5:52pm", duration:"12h 34m" },
      { roza:2,  date:"20 Feb", day:"Juma",     sehr:"5:17am", iftar:"5:52pm", duration:"12h 35m" },
      { roza:3,  date:"21 Feb", day:"Hafta",    sehr:"5:16am", iftar:"5:53pm", duration:"12h 37m" },
      { roza:4,  date:"22 Feb", day:"Itwar",    sehr:"5:15am", iftar:"5:54pm", duration:"12h 39m" },
      { roza:5,  date:"23 Feb", day:"Peer",     sehr:"5:14am", iftar:"5:55pm", duration:"12h 41m" },
      { roza:6,  date:"24 Feb", day:"Mangal",   sehr:"5:13am", iftar:"5:56pm", duration:"12h 43m" },
      { roza:7,  date:"25 Feb", day:"Budh",     sehr:"5:12am", iftar:"5:57pm", duration:"12h 45m" },
      { roza:8,  date:"26 Feb", day:"Jumeraat", sehr:"5:10am", iftar:"5:58pm", duration:"12h 48m" },
      { roza:9,  date:"27 Feb", day:"Juma",     sehr:"5:09am", iftar:"5:58pm", duration:"12h 49m" },
      { roza:10, date:"28 Feb", day:"Hafta",    sehr:"5:08am", iftar:"5:59pm", duration:"12h 51m" },
      { roza:11, date:"1 Mar",  day:"Itwar",    sehr:"5:07am", iftar:"6:00pm", duration:"12h 53m" },
      { roza:12, date:"2 Mar",  day:"Peer",     sehr:"5:06am", iftar:"6:01pm", duration:"12h 55m" },
      { roza:13, date:"3 Mar",  day:"Mangal",   sehr:"5:05am", iftar:"6:02pm", duration:"12h 57m" },
      { roza:14, date:"4 Mar",  day:"Budh",     sehr:"5:03am", iftar:"6:03pm", duration:"13h 0m"  },
      { roza:15, date:"5 Mar",  day:"Jumeraat", sehr:"5:02am", iftar:"6:03pm", duration:"13h 1m"  },
      { roza:16, date:"6 Mar",  day:"Juma",     sehr:"5:01am", iftar:"6:04pm", duration:"13h 3m"  },
      { roza:17, date:"7 Mar",  day:"Hafta",    sehr:"5:00am", iftar:"6:05pm", duration:"13h 5m"  },
      { roza:18, date:"8 Mar",  day:"Itwar",    sehr:"4:58am", iftar:"6:06pm", duration:"13h 8m"  },
      { roza:19, date:"9 Mar",  day:"Peer",     sehr:"4:57am", iftar:"6:07pm", duration:"13h 10m" },
      { roza:20, date:"10 Mar", day:"Mangal",   sehr:"4:56am", iftar:"6:07pm", duration:"13h 11m" },
      { roza:21, date:"11 Mar", day:"Budh",     sehr:"4:54am", iftar:"6:08pm", duration:"13h 14m" },
      { roza:22, date:"12 Mar", day:"Jumeraat", sehr:"4:53am", iftar:"6:09pm", duration:"13h 16m" },
      { roza:23, date:"13 Mar", day:"Juma",     sehr:"4:52am", iftar:"6:10pm", duration:"13h 18m" },
      { roza:24, date:"14 Mar", day:"Hafta",    sehr:"4:50am", iftar:"6:11pm", duration:"13h 21m" },
      { roza:25, date:"15 Mar", day:"Itwar",    sehr:"4:49am", iftar:"6:11pm", duration:"13h 22m" },
      { roza:26, date:"16 Mar", day:"Peer",     sehr:"4:48am", iftar:"6:12pm", duration:"13h 24m" },
      { roza:27, date:"17 Mar", day:"Mangal",   sehr:"4:46am", iftar:"6:13pm", duration:"13h 27m" },
      { roza:28, date:"18 Mar", day:"Budh",     sehr:"4:45am", iftar:"6:14pm", duration:"13h 29m" },
      { roza:29, date:"19 Mar", day:"Jumeraat", sehr:"4:43am", iftar:"6:14pm", duration:"13h 31m" },
      { roza:30, date:"20 Mar", day:"Juma",     sehr:"4:42am", iftar:"6:15pm", duration:"13h 33m" },
    ]
  },
  karachi: {
    name: "Karachi",
    data: [
      { roza:1,  date:"19 Feb", day:"Jumeraat", sehr:"5:46am", iftar:"6:29pm", duration:"12h 43m" },
      { roza:2,  date:"20 Feb", day:"Juma",     sehr:"5:45am", iftar:"6:29pm", duration:"12h 44m" },
      { roza:3,  date:"21 Feb", day:"Hafta",    sehr:"5:44am", iftar:"6:30pm", duration:"12h 46m" },
      { roza:4,  date:"22 Feb", day:"Itwar",    sehr:"5:43am", iftar:"6:30pm", duration:"12h 47m" },
      { roza:5,  date:"23 Feb", day:"Peer",     sehr:"5:42am", iftar:"6:31pm", duration:"12h 49m" },
      { roza:6,  date:"24 Feb", day:"Mangal",   sehr:"5:41am", iftar:"6:32pm", duration:"12h 51m" },
      { roza:7,  date:"25 Feb", day:"Budh",     sehr:"5:40am", iftar:"6:32pm", duration:"12h 52m" },
      { roza:8,  date:"26 Feb", day:"Jumeraat", sehr:"5:39am", iftar:"6:33pm", duration:"12h 54m" },
      { roza:9,  date:"27 Feb", day:"Juma",     sehr:"5:38am", iftar:"6:33pm", duration:"12h 55m" },
      { roza:10, date:"28 Feb", day:"Hafta",    sehr:"5:37am", iftar:"6:34pm", duration:"12h 57m" },
      { roza:11, date:"1 Mar",  day:"Itwar",    sehr:"5:36am", iftar:"6:35pm", duration:"12h 59m" },
      { roza:12, date:"2 Mar",  day:"Peer",     sehr:"5:35am", iftar:"6:35pm", duration:"13h 0m"  },
      { roza:13, date:"3 Mar",  day:"Mangal",   sehr:"5:34am", iftar:"6:36pm", duration:"13h 2m"  },
      { roza:14, date:"4 Mar",  day:"Budh",     sehr:"5:32am", iftar:"6:37pm", duration:"13h 5m"  },
      { roza:15, date:"5 Mar",  day:"Jumeraat", sehr:"5:31am", iftar:"6:37pm", duration:"13h 6m"  },
      { roza:16, date:"6 Mar",  day:"Juma",     sehr:"5:30am", iftar:"6:38pm", duration:"13h 8m"  },
      { roza:17, date:"7 Mar",  day:"Hafta",    sehr:"5:29am", iftar:"6:38pm", duration:"13h 9m"  },
      { roza:18, date:"8 Mar",  day:"Itwar",    sehr:"5:28am", iftar:"6:39pm", duration:"13h 11m" },
      { roza:19, date:"9 Mar",  day:"Peer",     sehr:"5:27am", iftar:"6:40pm", duration:"13h 13m" },
      { roza:20, date:"10 Mar", day:"Mangal",   sehr:"5:26am", iftar:"6:40pm", duration:"13h 14m" },
      { roza:21, date:"11 Mar", day:"Budh",     sehr:"5:24am", iftar:"6:41pm", duration:"13h 17m" },
      { roza:22, date:"12 Mar", day:"Jumeraat", sehr:"5:23am", iftar:"6:41pm", duration:"13h 18m" },
      { roza:23, date:"13 Mar", day:"Juma",     sehr:"5:22am", iftar:"6:42pm", duration:"13h 20m" },
      { roza:24, date:"14 Mar", day:"Hafta",    sehr:"5:21am", iftar:"6:43pm", duration:"13h 22m" },
      { roza:25, date:"15 Mar", day:"Itwar",    sehr:"5:19am", iftar:"6:43pm", duration:"13h 24m" },
      { roza:26, date:"16 Mar", day:"Peer",     sehr:"5:18am", iftar:"6:44pm", duration:"13h 26m" },
      { roza:27, date:"17 Mar", day:"Mangal",   sehr:"5:17am", iftar:"6:44pm", duration:"13h 27m" },
      { roza:28, date:"18 Mar", day:"Budh",     sehr:"5:16am", iftar:"6:45pm", duration:"13h 29m" },
      { roza:29, date:"19 Mar", day:"Jumeraat", sehr:"5:14am", iftar:"6:45pm", duration:"13h 31m" },
      { roza:30, date:"20 Mar", day:"Juma",     sehr:"5:13am", iftar:"6:46pm", duration:"13h 33m" },
    ]
  },
  quetta: {
    name: "Quetta",
    data: [
      { roza:1,  date:"19 Feb", day:"Jumeraat", sehr:"5:30am", iftar:"6:10pm", duration:"12h 40m" },
      { roza:2,  date:"20 Feb", day:"Juma",     sehr:"5:29am", iftar:"6:11pm", duration:"12h 42m" },
      { roza:3,  date:"21 Feb", day:"Hafta",    sehr:"5:28am", iftar:"6:11pm", duration:"12h 43m" },
      { roza:4,  date:"22 Feb", day:"Itwar",    sehr:"5:27am", iftar:"6:12pm", duration:"12h 45m" },
      { roza:5,  date:"23 Feb", day:"Peer",     sehr:"5:26am", iftar:"6:13pm", duration:"12h 47m" },
      { roza:6,  date:"24 Feb", day:"Mangal",   sehr:"5:25am", iftar:"6:14pm", duration:"12h 49m" },
      { roza:7,  date:"25 Feb", day:"Budh",     sehr:"5:24am", iftar:"6:15pm", duration:"12h 51m" },
      { roza:8,  date:"26 Feb", day:"Jumeraat", sehr:"5:22am", iftar:"6:16pm", duration:"12h 54m" },
      { roza:9,  date:"27 Feb", day:"Juma",     sehr:"5:21am", iftar:"6:16pm", duration:"12h 55m" },
      { roza:10, date:"28 Feb", day:"Hafta",    sehr:"5:20am", iftar:"6:17pm", duration:"12h 57m" },
      { roza:11, date:"1 Mar",  day:"Itwar",    sehr:"5:19am", iftar:"6:18pm", duration:"12h 59m" },
      { roza:12, date:"2 Mar",  day:"Peer",     sehr:"5:18am", iftar:"6:19pm", duration:"13h 1m"  },
      { roza:13, date:"3 Mar",  day:"Mangal",   sehr:"5:17am", iftar:"6:20pm", duration:"13h 3m"  },
      { roza:14, date:"4 Mar",  day:"Budh",     sehr:"5:15am", iftar:"6:21pm", duration:"13h 6m"  },
      { roza:15, date:"5 Mar",  day:"Jumeraat", sehr:"5:14am", iftar:"6:21pm", duration:"13h 7m"  },
      { roza:16, date:"6 Mar",  day:"Juma",     sehr:"5:13am", iftar:"6:22pm", duration:"13h 9m"  },
      { roza:17, date:"7 Mar",  day:"Hafta",    sehr:"5:12am", iftar:"6:23pm", duration:"13h 11m" },
      { roza:18, date:"8 Mar",  day:"Itwar",    sehr:"5:10am", iftar:"6:24pm", duration:"13h 14m" },
      { roza:19, date:"9 Mar",  day:"Peer",     sehr:"5:09am", iftar:"6:25pm", duration:"13h 16m" },
      { roza:20, date:"10 Mar", day:"Mangal",   sehr:"5:08am", iftar:"6:25pm", duration:"13h 17m" },
      { roza:21, date:"11 Mar", day:"Budh",     sehr:"5:06am", iftar:"6:26pm", duration:"13h 20m" },
      { roza:22, date:"12 Mar", day:"Jumeraat", sehr:"5:05am", iftar:"6:27pm", duration:"13h 22m" },
      { roza:23, date:"13 Mar", day:"Juma",     sehr:"5:04am", iftar:"6:28pm", duration:"13h 24m" },
      { roza:24, date:"14 Mar", day:"Hafta",    sehr:"5:02am", iftar:"6:29pm", duration:"13h 27m" },
      { roza:25, date:"15 Mar", day:"Itwar",    sehr:"5:01am", iftar:"6:29pm", duration:"13h 28m" },
      { roza:26, date:"16 Mar", day:"Peer",     sehr:"5:00am", iftar:"6:30pm", duration:"13h 30m" },
      { roza:27, date:"17 Mar", day:"Mangal",   sehr:"4:58am", iftar:"6:31pm", duration:"13h 33m" },
      { roza:28, date:"18 Mar", day:"Budh",     sehr:"4:57am", iftar:"6:32pm", duration:"13h 35m" },
      { roza:29, date:"19 Mar", day:"Jumeraat", sehr:"4:55am", iftar:"6:32pm", duration:"13h 37m" },
      { roza:30, date:"20 Mar", day:"Juma",     sehr:"4:54am", iftar:"6:33pm", duration:"13h 39m" },
    ]
  }
};

// Active city ‚Äî default Sargodha
let activeCity = 'sargodha';
let data = cityData[activeCity].data;

function onCityChange() {
  activeCity = document.getElementById('city-select').value;
  data = cityData[activeCity].data;
  renderTable();
  updateCountdown();
  // Update city selector text in table header
  document.querySelector('.city-selector strong').textContent = cityData[activeCity].name;
}

// ============================================================
// RENDER TABLE
// ============================================================
const rozaDates = [
  null,
  new Date(2026,1,19), new Date(2026,1,20), new Date(2026,1,21),
  new Date(2026,1,22), new Date(2026,1,23), new Date(2026,1,24),
  new Date(2026,1,25), new Date(2026,1,26), new Date(2026,1,27),
  new Date(2026,1,28), new Date(2026,2,1),  new Date(2026,2,2),
  new Date(2026,2,3),  new Date(2026,2,4),  new Date(2026,2,5),
  new Date(2026,2,6),  new Date(2026,2,7),  new Date(2026,2,8),
  new Date(2026,2,9),  new Date(2026,2,10), new Date(2026,2,11),
  new Date(2026,2,12), new Date(2026,2,13), new Date(2026,2,14),
  new Date(2026,2,15), new Date(2026,2,16), new Date(2026,2,17),
  new Date(2026,2,18), new Date(2026,2,19), new Date(2026,2,20),
];

function getTodayRozaIndex() {
  const now = new Date();
  for (let i = 1; i <= 30; i++) {
    const d = rozaDates[i];
    if (d.getFullYear()===now.getFullYear() && d.getMonth()===now.getMonth() && d.getDate()===now.getDate()) return i;
  }
  return null;
}

function renderTable() {
  const tbody = document.getElementById('calendar-body');
  tbody.innerHTML = '';
  let currentAshra = 0;
  const todayIdx = getTodayRozaIndex();
  const now = new Date();
  const isBeforeRamzan = now < rozaDates[1];

  data.forEach((row, idx) => {
    const ashra = row.roza <= 10 ? 1 : row.roza <= 20 ? 2 : 3;
    if (ashra !== currentAshra) {
      currentAshra = ashra;
      const headerRow = document.createElement('tr');
      const labels = ['','1st Ashra ‚Äî Rehmat','2nd Ashra ‚Äî Maghfirat','3rd Ashra ‚Äî Nijaat'];
      headerRow.innerHTML = `<td colspan="6" class="ashra-header ah-${ashra}">${labels[ashra]}</td>`;
      tbody.appendChild(headerRow);
    }
    const tr = document.createElement('tr');
    tr.style.setProperty('--i', idx);
    const isFirst = row.roza === 1;
    const isToday = todayIdx === row.roza;
    let rowClass = `ashra-${ashra}-row`;
    if (isToday) rowClass += ' today-row';
    tr.className = rowClass;
    let badge = '';
    if (isToday) badge = '<span class="today-badge">AAJ</span>';
    else if (isFirst && isBeforeRamzan) badge = '<span class="today-badge">KAL</span>';
    tr.innerHTML = `
      <td><span class="roza-num">${row.roza}</span></td>
      <td class="date-cell">${row.date}${badge}</td>
      <td class="day-cell">${row.day}</td>
      <td class="sehri-time">üåÖ ${row.sehr}</td>
      <td class="iftar-time">üåá ${row.iftar}</td>
      <td class="duration-cell">${row.duration}</td>
    `;
    tbody.appendChild(tr);
  });
}

renderTable();

// ============================================================
// COUNTDOWN TIMER
// ============================================================
function parseTime(dateObj, timeStr) {
  const match = timeStr.match(/(\d+):(\d+)(am|pm)/i);
  if (!match) return null;
  let h = parseInt(match[1]);
  const m = parseInt(match[2]);
  const ampm = match[3].toLowerCase();
  if (ampm === 'pm' && h !== 12) h += 12;
  if (ampm === 'am' && h === 12) h = 0;
  const d = new Date(dateObj);
  d.setHours(h, m, 0, 0);
  return d;
}

function pad(n) { return String(n).padStart(2,'0'); }

function updateCountdown() {
  const now = new Date();
  const cityName = cityData[activeCity].name;

  // Find today's roza
  let todayRoza = null;
  for (let i = 1; i <= 30; i++) {
    const d = rozaDates[i];
    if (d.getFullYear()===now.getFullYear() && d.getMonth()===now.getMonth() && d.getDate()===now.getDate()) {
      todayRoza = data[i-1];
      break;
    }
  }

  if (!todayRoza) {
    const firstSehri = parseTime(rozaDates[1], data[0].sehr);
    if (now < firstSehri) {
      const diff = firstSehri - now;
      const h = Math.floor(diff/3600000);
      const m = Math.floor((diff%3600000)/60000);
      const s = Math.floor((diff%60000)/1000);
      document.getElementById('cd-label').textContent = `üåô ${cityName} ‚Äî Pehli Sehri mein bacha waqt`;
      document.getElementById('cd-label').className = 'countdown-label sehri-mode';
      setBoxClass('sehri');
      document.getElementById('cd-h').textContent = pad(h);
      document.getElementById('cd-m').textContent = pad(m);
      document.getElementById('cd-s').textContent = pad(s);
      document.getElementById('cd-progress').style.width = '0%';
      document.getElementById('cd-progress').style.background = '#7eb8e8';
      document.getElementById('ti-roza').textContent = 'Pehla Roza';
      document.getElementById('ti-sehri').textContent = data[0].sehr;
      document.getElementById('ti-iftar').textContent = data[0].iftar;
    }
    return;
  }

  const rozaIndex = todayRoza.roza;
  const todayDate = rozaDates[rozaIndex];
  const sehriTime = parseTime(todayDate, todayRoza.sehr);
  const iftarTime = parseTime(todayDate, todayRoza.iftar);
  let nextSehriTime = null;
  if (rozaIndex < 30) nextSehriTime = parseTime(rozaDates[rozaIndex+1], data[rozaIndex].sehr);

  document.getElementById('ti-roza').textContent = rozaIndex + 'Ÿàÿß⁄∫ ÿ±Ÿà ⁄ò€Å';
  document.getElementById('ti-sehri').textContent = todayRoza.sehr;
  document.getElementById('ti-iftar').textContent = todayRoza.iftar;

  let diff, label, mode;

  if (now < sehriTime) {
    diff = sehriTime - now;
    const midnight = new Date(todayDate); midnight.setHours(0,0,0,0);
    const pct = Math.min(100, ((now-midnight)/(sehriTime-midnight))*100);
    document.getElementById('cd-progress').style.width = pct+'%';
    document.getElementById('cd-progress').style.background = 'linear-gradient(90deg, #3d6b9e, #7eb8e8)';
    label = `üåÖ ${cityName} ‚Äî Sehri mein bacha waqt`;
    mode = 'sehri'; setBoxClass('sehri');
  } else if (now < iftarTime) {
    diff = iftarTime - now;
    const pct = Math.min(100, ((now-sehriTime)/(iftarTime-sehriTime))*100);
    document.getElementById('cd-progress').style.width = pct+'%';
    document.getElementById('cd-progress').style.background = 'linear-gradient(90deg, #c47a35, #e8a35a)';
    label = `üåá ${cityName} ‚Äî Iftar mein bacha waqt`;
    mode = 'iftar'; setBoxClass('iftar');
  } else {
    if (nextSehriTime) {
      diff = nextSehriTime - now;
      const pct = Math.min(100, ((now-iftarTime)/(nextSehriTime-iftarTime))*100);
      document.getElementById('cd-progress').style.width = pct+'%';
      document.getElementById('cd-progress').style.background = 'linear-gradient(90deg, #3d6b9e, #7eb8e8)';
      label = `üåÖ ${cityName} ‚Äî Agli Sehri mein bacha waqt`;
      mode = 'sehri'; setBoxClass('sehri');
      document.getElementById('ti-sehri').textContent = data[rozaIndex].sehr + ' (kal)';
    } else {
      document.getElementById('cd-label').textContent = 'üéâ Ramzan Mubarak! Eid Mubarak!';
      return;
    }
  }

  document.getElementById('cd-label').textContent = label;
  document.getElementById('cd-label').className = `countdown-label ${mode}-mode`;
  const totalSec = Math.floor(diff/1000);
  document.getElementById('cd-h').textContent = pad(Math.floor(totalSec/3600));
  document.getElementById('cd-m').textContent = pad(Math.floor((totalSec%3600)/60));
  document.getElementById('cd-s').textContent = pad(totalSec%60);
}

function setBoxClass(mode) {
  ['cd-box-h','cd-box-m','cd-box-s'].forEach(id => {
    document.getElementById(id).className = `cbox ${mode}-box`;
  });
}

// Init
document.querySelector('.city-selector strong').textContent = cityData[activeCity].name;
updateCountdown();
setInterval(updateCountdown, 1000);
</script>
<!-- STICKY CREDIT FOOTER -->
<div class="sticky-credit">
  <a href="https://www.facebook.com/share/1CAvQt8GeE/" target="_blank" rel="noopener">
    By Sami Bajwa
  </a>
</div>

</body>
</html>
